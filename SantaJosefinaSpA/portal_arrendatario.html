<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mi Arriendo - Santa Josefina</title>
    
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#0f766e"> <link rel="apple-touch-icon" href="assets/img/icon-192.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="assets/css/styles.css">
    <script src="assets/js/app.js"></script>

    
    <link rel="stylesheet" href="assets/css/pages/portal_arrendatario.inline.css">
</head>
<body>

    <div class="header-rent">
        <h2 style="margin:0; font-size: 18px;">Hola, <span id="lblInquilino">Arrendatario</span></h2>
        <p style="margin: 5px 0 0; opacity: 0.9; font-size: 13px;" id="lblDireccion">Cargando propiedad...</p>
    </div>

    <div class="payment-card">
        <div style="font-size: 12px; color: #64748b; text-transform: uppercase; font-weight: 700;">Próximo Vencimiento</div>
        <div class="amount-display" id="lblMonto">$0</div>
        <div id="lblEstadoPago" class="due-date">Vence el día 05</div>
        <button onclick="abrirModalPago()" style="display: block; width: 100%; margin-top: 15px; padding: 10px; background: #0f766e; color: white; border: none; border-radius: 8px; font-weight: bold;">
            <i class="fa-solid fa-paper-plane"></i> Reportar Pago
        </button>
    </div>

    <div class="quick-actions">
        <div class="q-btn" onclick="abrirModalMantencion()">
            <div class="q-icon"><i class="fa-solid fa-screwdriver-wrench"></i></div>
            <div class="q-text">Solicitar Mantención</div>
        </div>
        <div class="q-btn" onclick="verContrato()">
            <div class="q-icon"><i class="fa-solid fa-file-contract"></i></div>
            <div class="q-text">Ver Contrato</div>
        </div>
    </div>

    <div class="history-section">
        <div class="h-title">Historial de Pagos</div>
        <div id="listaPagos">
            <div style="text-align: center; color: #94a3b8; font-size: 13px;">Cargando...</div>
        </div>
    </div>

    <div class="overlay" id="overlay" onclick="cerrarModals()"></div>
    
    <div class="sheet-modal" id="modalPago">
        <h3 style="margin-top: 0; color: #134e4a;">Reportar Arriendo</h3>
        <p style="color:#64748b; font-size:13px; margin-bottom: 20px;">Adjunta el comprobante de transferencia.</p>
        
        <label class="label">Periodo</label>
        <input type="month" id="pagoPeriodo" class="input-modern" style="width: 100%; margin-bottom: 15px; padding: 12px; border:1px solid #ccc; border-radius:8px;">
        
        <label class="label">Monto Transferido</label>
        <input type="number" id="pagoMonto" class="input-modern" style="width: 100%; margin-bottom: 15px; padding: 12px; border:1px solid #ccc; border-radius:8px;">

        <button style="width: 100%; padding: 12px; background: #f0fdfa; border: 2px dashed #0f766e; border-radius: 8px; color: #0f766e; font-weight:600; text-align: center;">
            <i class="fa-solid fa-camera"></i> Subir Comprobante
        </button>

        <button class="btn-action" onclick="enviarReportePago()">Enviar Reporte</button>
    </div>

    <div class="sheet-modal" id="modalMantencion">
        <h3 style="margin-top: 0; color: #c2410c;">Solicitar Reparación</h3>
        <p style="color:#64748b; font-size:13px; margin-bottom: 20px;">Describe el problema en la propiedad.</p>
        
        <select id="manTipo" style="width: 100%; padding: 12px; border-radius: 8px; margin-bottom: 10px; border: 1px solid #ccc;">
            <option value="Gasfitería">Gasfitería / Agua</option>
            <option value="Electricidad">Electricidad</option>
            <option value="Estructural">Estructural (Paredes/Pisos)</option>
            <option value="Otro">Otro</option>
        </select>

        <textarea id="manDesc" rows="4" placeholder="Ej: Hay una filtración bajo el lavaplatos..." style="width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #ccc;"></textarea>

        <button class="btn-action" style="background: #e74e35;" onclick="enviarSolicitud()">Crear Solicitud</button>
    </div>

    <script src="assets/js/pages/portal_arrendatario.inline.js"></script>
</body>
</html>